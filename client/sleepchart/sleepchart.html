<template name="sleepchart">
    <card>
        <div class="sleepchart-options">
            {{#each options}}
                {{> Template.dynamic template=sleepchartOptionTemplate}}
            {{/each}}
        </div>
        <sleepchart>
            {{#if Template.subscriptionsReady}}
                {{#each sleepRows}}
                    {{> sleepchartRow}}
                {{/each}}
            {{else}}
                <placeholder>
                    {{{placeholder}}}
                </placeholder>
                <loaderbox>
                    <div class="loader"></div>
                </loaderbox>
            {{/if}}
        </sleepchart>
        {{#if Template.subscriptionsReady}}
            {{#if loadMore}}
                <div class="ui-buttonbar db-actions">
                    <div class="ui-button ui-button-tiny js-loadmore">
                        {{#if showingAll}}Show less{{else}}Show more{{/if}}
                    </div>
                    <div class="ui-button ui-button-tiny js-loadall">Show all</div>
                </div>
            {{/if}}
        {{/if}}
    </card>
</template>
