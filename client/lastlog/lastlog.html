<template name="lastlog">
    {{#if Template.subscriptionsReady}}
    <div class="lastlog">
        {{#each logEntryGroups}}
        <div class="logday">
            <div class="logday-header">
                <h3 class="log-header-weekday"> {{dateWeekday}} </h3>
                <h4 class="log-header-date"> {{date}} </h4>
            </div>
            {{#each logentries}}
            <div class="logrow">
                <p class="log-time">{{time}}</p>
                <div class="log-entry">
                    {{#each logicons}}
                    <div class="logicon-base {{iconclass}}"></div>
                    {{/each}}
                    <p class="log-description">
                        {{> Template.dynamic template=logEntryTemplate}}
                    </p>
                </div>
            </div>
            {{else}}
            <div>No data.</div>
            {{/each}}
        </div>
        {{else}}
        <div>Loading events...</div>
        {{/each}}
    </div>
    {{/if}}
</template>
<template name="logDefault">Had {{label}}</template>
<template name="logFood">Had {{label}}</template>
<template name="logSleep">
    {{#if end}} {{> logSleepClosed}} {{else}} {{> logSleepOpen}} {{/if}}
</template>
<template name="logSleepOpen">Fell asleep</template>
<template name="logSleepClosed">Slept {{makeDuration duration}} (until {{end}})</template>
<template name="logNap">
    {{#if end}} {{> logNapClosed}} {{else}} {{> logNapOpen}} {{/if}}
</template>
<template name="logNapOpen">Gone for a nap</template>
<template name="logNapClosed">Napped {{makeDuration duration}} (until {{end}})</template>
